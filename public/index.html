<!-- filepath: /workspaces/AI_EA_-Agent/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Real Estate Onboarding Agent - Prototype v5</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Tailwind gray-100 */
        }
        .chat-bubble {
            max-width: 75%;
            padding: 10px 15px;
            border-radius: 20px;
            margin-bottom: 10px;
            word-wrap: break-word;
        }
        .user-bubble {
            background-color: #3b82f6; /* Tailwind blue-500 */
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 5px;
        }
        .ai-bubble {
            background-color: #e5e7eb; /* Tailwind gray-200 */
            color: #1f2937; /* Tailwind gray-800 */
            margin-right: auto;
            border-bottom-left-radius: 5px;
        }
        .loading-dots span, .spinner {
            display: inline-block;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }
        .loading-dots span {
            width: 8px;
            height: 8px;
            background-color: #4b5563; /* Tailwind gray-600 */
            border-radius: 50%;
        }
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #3b82f6;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <!-- ...existing HTML content... -->
    <script>
    // Send message to Gemini Chat (serverless function)
    async function sendMessageToChatAI(conversationForAPI) {
        const apiUrl = '/.netlify/functions/callGeminiChat';
        const response = await fetch(apiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ contents: conversationForAPI, generationConfig: { temperature: 0.6 }, model: "gemini-2.0-flash" })
        });
        return response.json();
    }

    // Visualize Dream Property (image generation)
    async function visualizeDreamProperty(promptText) {
        const imageApiUrl = '/.netlify/functions/generateImage';
        const response = await fetch(imageApiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ instances: [{ prompt: promptText }], parameters: { "sampleCount": 1 } })
        });
        return response.json();
    }

    // Get Local Area Insights
    async function getLocalAreaInsights(conversationForAPI) {
        const apiUrl = '/.netlify/functions/getAreaInsights';
        const response = await fetch(apiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ contents: conversationForAPI, generationConfig: { temperature: 0.7 }, model: "gemini-2.0-flash" })
        });
        return response.json();
    }
    </script>
</body>
</html>
